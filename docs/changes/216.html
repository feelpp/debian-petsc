
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
 <html>
  <head> <link rel="canonical" href="http://www.mcs.anl.gov/petsc/petsc-current/docs/changes/216.html" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>Documentation: Changes: 2.1.6</title>
  </head>
  <body bgcolor="#ffffff">
   <div id="version" align=right><b>petsc-3.4.2 2013-07-02</b></div>

    <h1>Documentation: Changes: 2.1.6</h1>

    

    <style type="text/css">
      h2 {
        color: red;
      }

      h4 {
        font-weight: bold;
        text-decoration: underline;
      }
    </style>

    <div id="main">

      <div align="center">
        <h2><a name="CHANGES">CHANGES in PETSc 2.1.6</a></h2>
      </div>

      <h4>General:</h4>

      <ul>
        <li>Added support for Cray X1</li>
        <li>
          Added option '-suggest' to petscarch script. It suggests some
          possible PETSC_ARCHes to use
        </li>

        <li>Installation instructions are rewritten</li>
      </ul>

      <h4>Vec:</h4>

      <ul>
        <li> VecNorm now caches NORM_2</li>
        <li>Added VecStrideScale(), VecStrideGather(), VecStrideScatter()</li>
        <li>Added VecBlockNorm(),VecBlockMax(),VecBlockMin(),VecBlockScale()</li>
      </ul>

      <h4>Mat:</h4>

      <ul>
        <li>
          The interface to external packages that support direct solvers has
          been reorganized. This is implemented using new matrix types
          MATSEQAIJSPOOLES, MATMPIAIJSPOOLES, MATSEQSBAIJSPOOLES,
          MATMPISBAIJSPOOLES, MATSUPERLU, MATSUPERLU_DIST, MATUMFPACK,MATESSL,
          MATLUSOL, MATAIJMUMPS, MATSBAIJMUMPS, MATDSCPACK
        </li>

        <li>
          Added new convenience matrix types which automatically switch between
          Seq and MPI implementations depending on the size of the communicator
          used during creation: MATAIJ, MATBAIJ, MATSBAIJ, MATMAIJ, MATDENSE,
          MATBDIAG
        </li>

        <li>
          Changed default matrix-free compute h to use WP since it uses fewer
          reductions
        </li>

        <li>Replace the datatypes MatLUInfo and MatILUInfo by MatFactorInfo</li>
        <li>Added cholesky support to SeqAIJ</li>
        <li>Added support for SUBSET_NONZERO_PATTERN with MatAXPY for AIJ &amp; BAIJ</li>
        <li>Added MatIsSymmetric() for AIJ</li>
        <li>Added LDA support in SeqDense</li>
        <li>The ncols argument made optional in MatGetRow()</li>
        <li>Added MAT_KEEP_ZEROED_ROWS for MPIROWBS</li>
        <li>Removed -aij_oneindex support from AIJ code</li>
        <li>Added MatPartitioningSetPartitionWeights() - useable with ParMetis</li>
        <li>MatGetSubMatrices() now works for ROWBS</li>
      </ul>

      <h4>PC:</h4>

      <ul>
        <li>Added PCICCSetDamping() or -pc_icc_damping</li>
        <li>Added -pc_constant_null_space</li>
        <li>Added PCILUSetShift() or -pc_ilu_shift to support damping using the identity</li>
        <li>Added PCLUSetShift() or -pc_lu_shift to support damping using the identity</li>
        <li>Added PCICCSetShift() or -pc_icc_shift to support damping using the identity</li>
      </ul>

      <h4>KSP:</h4>

      <ul>
        <li>Added a new ksp_type LGMRES</li>
        <li>Added KSPSetComputeSingularValues() support to ksp_type FGMRES</li>
      </ul>

      <h4>TS:</h4>

      <ul>
        <li>Added support for Runge-Kutta using ts_type TS_RUNGE_KUTTA</li>
      </ul>

      <h4>DMMG:</h4>

      <ul>
        <li>-dmmg_jacobian_period -1 =&gt; jacobian is frozen after initial construction</li>
      </ul>

      <h4>DA:</h4>

      <ul>
        <li>Allow user preallocation of jacobian using DASetGetMatrix()</li>
        <li>DAGetMatrix now correctly returns the requested type.</li>
        <li>-mat_type typename overloads the requested type for DAGetMatrix</li>
      </ul>

      <h4>SYS:</h4>

      <ul>
        <li>Added new viewer_type PETSC_VIEWER_NETCDF, PETSC_VIEWER_HDF4</li>
        <li>PETSc error handlers now trap many more signals.</li>
      </ul>

      <h4>Fortran:</h4>

      <ul>
        <li>PetscPushErrorHandler() and PetscPopErrorHandler() now supported</li>
        <li>PetscPrintf() and PetscSynchronizedPrintf() now work in fortran with a single string</li>
      </ul>

      <h4>External Packages:</h4>

      <ul>
        <li>Added TSPVodeGetParameters()</li>
        <li>Parmetis-3 support added using MatPartitionSetNParts(), ISPartitionCount()</li>
        <li>MUMPS support added, including complex (using mat_type MATAIJMUMPS, MATSBAIJMUMPS)</li>
        <li>Updated SuperLU_DIST interface to SuperLU_DIST_2.0</li>
        <li>Added Spooles complex support</li>
        <li>Added Spooles cholesky for SeqAIJ</li>

        <li>
          ADIC: ad_GRAD_MAX is now set in the application and compiled into
          code when compiling appplication
        </li>

        <li>
          The following variable names - in the buildsystem are changed - that
          correspond with SuperLU_DIST SUPERLUDIST_INCLUDE -&gt;
          SUPERLU_DIST_INCLUDE SUPERLUDIST_LIB -&gt; SUPERLU_DIST_LIB
          PETSCHAVE_SUPERLU -&gt; PETSC_HAVE_SUPERLU
        </li>
      </ul>

    </div>

    
  </body>
</html>
