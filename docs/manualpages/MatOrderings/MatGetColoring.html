<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML3.2 EN">
<HTML>
<HEAD> <link rel="canonical" href="http://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/MatOrderings/MatGetColoring.html" />
<META NAME="GENERATOR" CONTENT="DOCTEXT">
<TITLE>MatGetColoring</TITLE>
</HEAD>
<BODY BGCOLOR="FFFFFF">
   <div id="version" align=right><b>petsc-3.4.2 2013-07-02</b></div>
<A NAME="MatGetColoring"><H1>MatGetColoring</H1></A>
Gets a coloring for a matrix, from its sparsity structure, to reduce the number of function evaluations needed to compute a sparse Jacobian via differencing. 
<H3><FONT COLOR="#CC3333">Synopsis</FONT></H3>
<PRE>
PetscErrorCode  MatGetColoring(Mat mat,MatColoringType type,ISColoring *iscoloring)
</PRE>
Collective on <A HREF="../Mat/Mat.html#Mat">Mat</A>
<P>
<H3><FONT COLOR="#CC3333">Input Parameters</FONT></H3>
<DT><B>mat </B> -the matrix
<br>
<DT><B>type </B> -type of coloring, one of the following:
<br>
<pre>
     MATCOLORINGNATURAL - natural (one color for each column, very slow)
</pre>
<pre>
     MATCOLORINGSL - smallest-last
</pre>
<pre>
     MATCOLORINGLF - largest-first
</pre>
<pre>
     MATCOLORINGID - incidence-degree
</pre>
<P>
<H3><FONT COLOR="#CC3333">Output Parameters</FONT></H3>
<DT><B>iscoloring </B> -the coloring
<br>
<P>
<H3><FONT COLOR="#CC3333">Options Database Keys</FONT></H3>
To specify the coloring through the options database, use one of
the following
<pre>
   -mat_coloring_type natural, -mat_coloring_type sl, -mat_coloring_type lf,
</pre>
<pre>
   -mat_coloring_type id
</pre>
To see the coloring use
<pre>
   -mat_coloring_view
</pre>
<P>

<P>
<H3><FONT COLOR="#CC3333">Notes</FONT></H3>
<pre>
   A graph coloring C(A)  is a division of vertices  so that two vertices of the same color do not share any common edges.
</pre>
<pre>
   A suitable coloring for a  smoother  is simply C(A).
</pre>
<pre>
   A suitable coloring for efficient Jacobian computation is a division of the columns so that two columns of the same color do not share any common rows.
</pre>
<pre>
        This corresponds to C(A^{T} A).  This is what <A HREF="../MatOrderings/MatGetColoring.html#MatGetColoring">MatGetColoring</A>() computes.
</pre>
<P>
The user can define additional colorings; see <A HREF="../MatOrderings/MatColoringRegister.html#MatColoringRegister">MatColoringRegister</A>().
<P>
For parallel matrices currently converts to sequential matrix and uses the sequential coloring
on that.
<P>
The colorings SL, LF, and ID are obtained via the Minpack software that was
converted to C using f2c.
<P>
For BAIJ matrices this colors the blocks. The true number of colors would be block size times the number of colors
returned here.
<P>
<H3><FONT COLOR="#CC3333">References</FONT></H3>
<pre>
    Thomas F. Coleman and Jorge J. More, Estimation of Sparse {J}acobian Matrices and Graph Coloring Problems,
</pre>
<pre>
        SIAM Journal on Numerical Analysis, 1983, pages 187-209, volume 20
</pre>
<pre>
    Jorge J. Mor\'{e} and Danny C. Sorenson and  Burton S. Garbow and Kenneth E. Hillstrom, The {MINPACK} Project,
</pre>
<pre>
        Sources and Development of Mathematical Software, Wayne R. Cowell editor, 1984, pages 88-111
</pre>
<P>
<H3><FONT COLOR="#CC3333">Keywords</FONT></H3>
 matrix, get, coloring
<BR>
<P>
<H3><FONT COLOR="#CC3333">See Also</FONT></H3>
  MatGetColoringTypeFromOptions(), <A HREF="../MatOrderings/MatColoringRegister.html#MatColoringRegister">MatColoringRegister</A>(), <A HREF="../MatFD/MatFDColoringCreate.html#MatFDColoringCreate">MatFDColoringCreate</A>(),
<BR><A HREF="../SNES/SNESComputeJacobianDefaultColor.html#SNESComputeJacobianDefaultColor">SNESComputeJacobianDefaultColor</A>()
<P><B><P><B><FONT COLOR="#CC3333">Level:</FONT></B>intermediate
<BR><FONT COLOR="#CC3333">Location:</FONT></B><A HREF="../../../src/mat/color/color.c.html#MatGetColoring">src/mat/color/color.c</A>
<BR><A HREF="./index.html">Index of all MatOrderings routines</A>
<BR><A HREF="../../index.html">Table of Contents for all manual pages</A>
<BR><A HREF="../singleindex.html">Index of all manual pages</A>
<P><H3><FONT COLOR="#CC3333">Examples</FONT></H3>
<A HREF="../../../src/mat/examples/tutorials/ex16.c.html">src/mat/examples/tutorials/ex16.c.html</A><BR>
</BODY></HTML>
